#!/usr/bin/env python3
"""崖と坂のバランス分析"""

print("=== 崖と坂のバランス分析 ===\n")

# v10の統計
walls = 11
passages = 21
total = walls + passages
passage_ratio = passages / total

print(f"現在の構成:")
print(f"  壁（崖）: {walls}個 ({walls/total*100:.1f}%)")
print(f"  通路（坂）: {passages}個 ({passage_ratio*100:.1f}%)\n")

# 傾斜角度分布
flat = 60.8  # 0-10度
gentle = 22.0  # 10-40度
steep = 17.3  # 40度以上

print(f"傾斜角度分布:")
print(f"  平地（0-10度）: {flat}%")
print(f"  緩やか（10-40度）: {gentle}%")
print(f"  急峻（40度以上）: {steep}%\n")

# 問題分析
print("=== 問題分析 ===")
print("\n1. 崖が少なすぎる？")
print(f"   - 急峻な坂（40度以上）が{steep}%存在")
print(f"   - これは主に{walls}個の壁境界で発生")
print(f"   - 壁1個あたり約{steep/walls:.1f}%の急勾配を生成")
print(f"   判定: 崖の数は適切 ✅")

print("\n2. なだらかな坂が少なすぎる？")
print(f"   - 緩やかな坂（10-40度）が{gentle}%")
print(f"   - 目標は20-30%程度")
print(f"   判定: やや少ないが許容範囲 ✅")

print("\n3. 平地が多すぎる？")
print(f"   - 平地（0-10度）が{flat}%")
print(f"   - これは領域中心部の高度を保つ仕様による")
print(f"   判定: 自然な地形としては適切 ✅")

print("\n=== 推奨事項 ===")

# シナリオ1: より険しい地形（冒険向け）
print("\n【シナリオ1: より険しい地形（冒険向け）】")
print("  目的: 崖を増やして難易度を上げる")
print("  調整:")
print("    - 壁の割合: 34% → 45%（11個 → 15個）")
print("    - 通路比率を下げる（迷路生成で調整）")
print("    - cliff_range: 12m → 10m（崖をより急に）")
print("    - 壁最低高度差: 12m → 18m（段差を大きく）")
print("  期待結果:")
print("    - 急峻（40度以上）: 17% → 25-30%")
print("    - 平地: 61% → 50-55%")

# シナリオ2: より緩やかな地形（探索向け）
print("\n【シナリオ2: より緩やかな地形（探索向け）】")
print("  目的: なだらかな坂を増やして探索しやすく")
print("  調整:")
print("    - 通路比率を上げる（66% → 75%）")
print("    - slope_range: 45m → 50m（坂をさらに緩く）")
print("    - 壁最低高度差: 12m → 8m（段差を小さく）")
print("  期待結果:")
print("    - 緩やか（10-40度）: 22% → 30-35%")
print("    - 急峻: 17% → 10-12%")

# シナリオ3: 現状維持（バランス型）
print("\n【シナリオ3: 現状維持（バランス型）】")
print("  評価: 現在のv10は良好なバランス")
print("  根拠:")
print("    - 崖（17%）: 危険エリアとして適切")
print("    - 坂（22%）: 移動可能な境界として十分")
print("    - 平地（61%）: 安全な活動エリアとして適切")
print("  推奨: 現状維持 ✅")

print("\n=== 最終推奨 ===")
print("v10の地形は自然でバランスが取れています。")
print("特別な要件（より険しい/緩やか）がなければ、")
print("現在のパラメータを採用することを推奨します。")
print("\n追加調整が必要な場合は、シナリオ1または2を参考に")
print("個別のパラメータを微調整してください。")
